var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},MapPoint=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.getNeighbor=function(e){return new t(this.x+Direction.getXDelta(e),this.y+Direction.getYDelta(e))},t.prototype.toString=function(){return"MapPoint: "+this.x+"-"+this.y},t}(),ScreenPoint=function(){function t(t,e){this.x=t,this.y=e}return t}(),Direction;!function(t){t[t.NW=0]="NW",t[t.NE=1]="NE",t[t.SE=2]="SE",t[t.SW=3]="SW"}(Direction||(Direction={})),function(t){function e(t){return(t+1)%4}function n(t){return(t+3)%4}function o(e){switch(e){case t.NW:return-1;case t.SE:return 1;default:return 0}}function i(e){switch(e){case t.NE:return-1;case t.SW:return 1;default:return 0}}t.rotateRight=e,t.rotateLeft=n,t.getXDelta=o,t.getYDelta=i}(Direction||(Direction={}));var CoordinateTransformer=function(){function t(t,e){this.halfTileWidth=t/2,this.halfTileHeight=e/2}return t.prototype.map_to_screen=function(t){var e=(t.x-t.y)*this.halfTileWidth,n=(t.x+t.y)*this.halfTileHeight;return new MapPoint(e,n)},t.prototype.screen_to_map=function(t){var e=(t.x/this.halfTileWidth+t.y/this.halfTileHeight)/2,n=(t.y/this.halfTileHeight-t.x/this.halfTileWidth)/2;return new MapPoint(e,n)},t}(),GnomeCode=function(){function t(t,e){this.futureCommandStack=[],this.gnome=t,this.routineMap=e,"main"in e&&this.queueUpRoutine(e.main)}return t.prototype.executeNextCommand=function(t){var e=this.futureCommandStack.pop();if(void 0===e)return void t.killGnome(this.gnome,CauseOfDeath.CODE_RAN_OUT);switch(e.type){case CommandType.WALK:t.tryMove(this.gnome);break;case CommandType.LEFT:this.gnome.rotateLeft();break;case CommandType.RIGHT:this.gnome.rotateRight();break;case CommandType.ACT:t.doGnomeAction(this.gnome);break;case CommandType.CALL_ROUTINE:this.queueUpRoutine(this.routineMap[e.args[0]])}},t.prototype.queueUpRoutine=function(t){for(var e=t.length;e>=0;e--)this.futureCommandStack.push(t[e])},t}(),Command=function(){function t(t,e){void 0===e&&(e=[]),this.type=t,this.args=e}return t.prototype.getArgument=function(t){return this.args[t]},t}(),CommandType;!function(t){t[t.WALK=0]="WALK",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.ACT=3]="ACT",t[t.CALL_ROUTINE=4]="CALL_ROUTINE"}(CommandType||(CommandType={})),function(t){function e(e){switch(e){case t.WALK:return"commandMoveForward";case t.LEFT:return"commandTurnLeft";case t.RIGHT:return"commandTurnRight";case t.ACT:return"commandPerformAction";default:return"unknownCommandType"}}function n(e){switch(e){case"W":return new Command(t.WALK);case"L":return new Command(t.LEFT);case"R":return new Command(t.RIGHT);case"A":return new Command(t.ACT)}}t.imageClass=e,t.getCommandTypeForShorthand=n}(CommandType||(CommandType={}));var WorldConstants;!function(t){t.BLOCK_WIDTH=110,t.BLOCK_HEIGHT=68,t.COORDINATE_TRANSFORMER=new CoordinateTransformer(t.BLOCK_WIDTH,t.BLOCK_HEIGHT);var e;!function(t){t[t.GRASS=0]="GRASS",t[t.WATER=1]="WATER"}(e=t.BlockType||(t.BlockType={}));var n;!function(t){t[t.NOTHING=0]="NOTHING",t[t.TREE=1]="TREE",t[t.HOUSE=2]="HOUSE"}(n=t.ObjectType||(t.ObjectType={}))}(WorldConstants||(WorldConstants={}));var GNOME_X_OFFSET=60,GNOME_Y_OFFSET=-65,Gnome=function(t){function e(e,n,o,i,a){var r=t.call(this,e,0,0,"gnome_regular_front")||this;r.direction=i,r._wateringCan=!1,r.gnomeCode=new GnomeCode(r,a),r.faceDirection(),r.anchor.set(.5,1),r._location=new MapPoint(n,o);var s=WorldConstants.COORDINATE_TRANSFORMER.map_to_screen(r.location);return r.x=s.x+GNOME_X_OFFSET,r.y=s.y+GNOME_Y_OFFSET,r.game.add.tween(r).from({alpha:0},500,Phaser.Easing.Quartic.Out,!0),e.add.existing(r),r}return __extends(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this._location},set:function(t){this._location=t,this.tweenToLocation().start()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wateringCan",{get:function(){return this._wateringCan},set:function(t){this._wateringCan=t,this.faceDirection()},enumerable:!0,configurable:!0}),e.prototype.executeNextCommand=function(t){this.gnomeCode.executeNextCommand(t)},e.prototype.rotateLeft=function(){this.direction=Direction.rotateLeft(this.direction),this.faceDirection()},e.prototype.rotateRight=function(){this.direction=Direction.rotateRight(this.direction),this.faceDirection()},e.prototype.die=function(t){var e=this;this.game.tweens.removeFrom(this);var n=this.tweenToLocation();switch(t){case CauseOfDeath.FALLING:n.onChildComplete.add(function(){(e.location.x<0||e.location.y<0)&&e.sendToBack(),e.game.add.sound("falling_gnome_scream").play()}),n.chain().to({y:this.y+500,alpha:0},500,Phaser.Easing.Quartic.In);break;case CauseOfDeath.DROWNING:n.onChildComplete.add(function(){e.loadTexture("gnome_drowning")}),n.to({alpha:0},500,Phaser.Easing.Quartic.Out);break;case CauseOfDeath.CODE_RAN_OUT:n.to({alpha:0},500,Phaser.Easing.Quartic.Out)}n.start(),n.onComplete.add(function(){return e.destroy(!1)},this)},e.prototype.faceDirection=function(){this.direction===Direction.NE||this.direction===Direction.SW?this.scale.x=-1:this.scale.x=1;var t=this.direction===Direction.SE||this.direction===Direction.SW,e=this.wateringCan?"gnome_water":"gnome_regular",n=e+(t?"_front":"_back");this.loadTexture(n)},e.prototype.tweenToLocation=function(){var t=this.game.add.tween(this),e=WorldConstants.COORDINATE_TRANSFORMER.map_to_screen(this.location);return t.to({x:e.x+GNOME_X_OFFSET,y:e.y+GNOME_Y_OFFSET},500,Phaser.Easing.Quartic.Out)},e}(Phaser.Sprite),CauseOfDeath;!function(t){t[t.FALLING=0]="FALLING",t[t.DROWNING=1]="DROWNING",t[t.CODE_RAN_OUT=2]="CODE_RAN_OUT"}(CauseOfDeath||(CauseOfDeath={}));var TREE_X_OFFSET=56,TREE_Y_OFFSET=-88,TREE_IMAGE_PREFIX="tree-",MAX_TREE_LEVEL=6,Tree=function(t){function e(e,n){var o=t.call(this,e,0,0,TREE_IMAGE_PREFIX+"1")||this;o.model=n,n.treeLevel||(n.treeLevel=1),n.requiredWater||o.calculateRequiredWater(),n.waterContent||(n.waterContent=0),o.anchor.set(.5,1),o.calculateRequiredWater();var i=WorldConstants.COORDINATE_TRANSFORMER.map_to_screen(o.location);return o.x=i.x+TREE_X_OFFSET,o.y=i.y+TREE_Y_OFFSET,e.add.existing(o),o}return __extends(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new MapPoint(this.model.positionX,this.model.positionY)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"waterContent",{get:function(){return this.model.waterContent},set:function(t){this.model.waterContent=t,this.displayWaterLevel(),this.model.treeLevel<MAX_TREE_LEVEL&&this.waterContent>=this.model.requiredWater&&(this.model.treeLevel++,this.loadTexture(TREE_IMAGE_PREFIX+this.model.treeLevel),this.waterContent=0,this.calculateRequiredWater())},enumerable:!0,configurable:!0}),e.prototype.addWater=function(){this.waterContent=this.waterContent+1},e.prototype.calculateRequiredWater=function(){this.model.treeLevel>=MAX_TREE_LEVEL?this.model.requiredWater=0:this.model.requiredWater=this.model.treeLevel},e.prototype.displayWaterLevel=function(){for(var t=this.y-60,e=this.x-10*this.model.requiredWater,n=function(n){var i=n<o.model.waterContent?"waterdrop_filled":"waterdrop_empty",a=o.game.add.sprite(e+20*n,t,i),r=o.game.add.tween(a).from({alpha:0},50,null,!0),s=o.game.add.tween(a).to({alpha:0},300,null,!1,1e3);s.onComplete.add(function(){return a.destroy(!1)},o),r.chain(s)},o=this,i=0;i<this.model.requiredWater;i++)n(i)},e}(Phaser.Sprite),VictoryCondition;!function(t){function e(t,e){if(!e)return!1;for(var n=0,o=e;n<o.length;n++){var i=o[n];if(!t.hasOwnProperty(i.name))return!1;if(i.requirementType&&!(t[i.name]>i.value))return!1}return!0}function n(t,n){for(var o=0,i=0,a=n;i<a.length;i++){var r=a[i];t.entityType===r.type&&e(r,t.requiredProperties)&&o++}if(o>0)return!0}t.check=n}(VictoryCondition||(VictoryCondition={}));var Messages;!function(t){function e(t,e){var n=e?e:{},o=document.getElementById("outerMessageArea"),i=document.getElementById("innerMessageArea");o.style.display="block",i.innerText=t;var a=function(){o.style.display="none",n.callback&&n.callback(),o.removeEventListener("click",a)};o.addEventListener("click",a)}t.show=e}(Messages||(Messages={}));var House=function(t){function e(n,o){var i=t.call(this,n,0,0,e.determineSprite(o.direction))||this;i.model=o,i.anchor.set(.5,1);var a=WorldConstants.COORDINATE_TRANSFORMER.map_to_screen(i.location);i.x=a.x+TREE_X_OFFSET,i.y=a.y+TREE_Y_OFFSET,i.inputEnabled=!0,i.input.pixelPerfectClick=!0,i.input.useHandCursor=!0;var r=[];if(o.initialCode)for(var s=0;s<o.initialCode.length;s++)r.push(CommandType.getCommandTypeForShorthand(o.initialCode.charAt(s)));return i.gnomeCode={main:r},n.add.existing(i),i}return __extends(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new MapPoint(this.model.positionX,this.model.positionY)},enumerable:!0,configurable:!0}),e.determineSprite=function(t){switch(t){case Direction.NE:return"house_ne";case Direction.NW:return"house_nw";case Direction.SE:return"house_se";case Direction.SW:return"house_sw"}},e}(Phaser.Sprite),GameWorld=function(){function t(t){this.game=t,this.blockGroup=t.add.group(t.world,"blocks"),this.entityGroup=t.add.group(t.world,"entities"),this.startCodeTimer()}return t.prototype.loadLevel=function(t){var e=this;this.blockGroup.removeAll(!0),this.entityGroup.removeAll(!0),this.gnomes=[],this.selectionListener&&this.selectionListener();var n=this.game.cache.getJSON(t).LEVEL_DEFINITION;this.level=new Level(n),this.level.renderStage(this.blockGroup),this.level.renderObjects(this.entityGroup),n.introMessage&&Messages.show(n.introMessage),this.level.houses.forEach(function(t){t.events.onInputDown.add(function(){e.selectionListener&&e.selectionListener(t)})})},t.prototype.doGnomeAction=function(t){var e=t.location.getNeighbor(t.direction),n=this.level.getBlock(e);t.wateringCan?this.level.waterObject(e)&&(t.wateringCan=!1):n===WorldConstants.BlockType.WATER&&(t.wateringCan=!0)},t.prototype.tryMove=function(t){var e=t.location.getNeighbor(t.direction);this.level.pointIsPassable(e)&&(t.location=e,this.determineEntityZIndices());var n=this.level.getPointCauseOfDeath(e);null!==n&&this.killGnome(t,n)},t.prototype.killGnome=function(t,e){this.gnomes.splice(this.gnomes.indexOf(t),1),this.entityGroup.remove(t),this.game.world.add(t),t.die(e)},t.prototype.spawnGnomes=function(){var t=this;this.level.houses.forEach(function(e){var n=new Gnome(t.game,e.model.positionX+Direction.getXDelta(e.model.direction),e.model.positionY+Direction.getYDelta(e.model.direction),e.model.direction,e.gnomeCode);t.entityGroup.add(n),t.gnomes.push(n),t.determineEntityZIndices()})},t.prototype.determineEntityZIndices=function(){this.entityGroup.customSort(function(t,e){var n=t.location.x+t.location.y,o=e.location.x+e.location.y;return n>o?1:n<o?-1:0})},t.prototype.startCodeTimer=function(){var t=this,e=this.game.time.create();e.loop(200,function(){for(var e=t.gnomes.length-1;e>=0;e--){var n=t.gnomes[e];n.executeNextCommand(t),t.checkVictory()}}),e.start()},t.prototype.checkVictory=function(){var t=this;this.level.checkVictory()&&Messages.show("You won!",{callback:function(){return t.loadLevel("tutorial_level_2")}})},t}(),Level=function(){function t(t){this.objectMap={},this.houses=[],this.layout=t.layout,this.gnome=t.gnome,this.objects=t.objects,this.victoryConditions=t.victoryConditions}return t.prototype.pointIsPassable=function(t){return!this.getObject(t)},t.prototype.getPointCauseOfDeath=function(t){var e=this.getBlock(t);return null===e?CauseOfDeath.FALLING:e===WorldConstants.BlockType.WATER?CauseOfDeath.DROWNING:null},t.prototype.getBlock=function(t){return void 0===this.layout[t.y]||void 0===this.layout[t.y][t.x]?null:this.layout[t.y][t.x]},t.prototype.getObject=function(t){return this.objectMap[t.toString()]},t.prototype.checkVictory=function(){if(!this.victoryConditions)return!1;for(var t=0,e=this.victoryConditions;t<e.length;t++){var n=e[t];if(!VictoryCondition.check(n,this.objects))return!1}return!0},t.prototype.waterObject=function(t){var e=this.objectMap[t.toString()];return!(!e||!e.addWater)&&(e.addWater(),!0)},t.prototype.renderStage=function(t){for(var e=this.layout.length,n=this.layout[0].length,o=0;o<e;o++)for(var i=0;i<n;i++)this.renderBlock(t,i,o,this.layout[o][i])},t.prototype.renderObjects=function(t){for(var e=0;e<this.objects.length;e++){var n=this.objects[e],o=this.renderObject(t.game,n);t.add(o),this.objectMap[new MapPoint(n.positionX,n.positionY).toString()]=o}},t.prototype.renderObject=function(t,e){if("TREE"===e.type)return new Tree(t,e);if("HOUSE"===e.type){var n=new House(t,e);return this.houses.push(n),n}},t.prototype.renderBlock=function(t,e,n,o){var i=WorldConstants.COORDINATE_TRANSFORMER.map_to_screen(new MapPoint(e,n)),a=t.game.add.sprite(i.x,i.y,this.getBlockSprite(o));a.anchor.y=1,t.add(a)},t.prototype.getBlockSprite=function(t){switch(t){case WorldConstants.BlockType.GRASS:return"stage_block";case WorldConstants.BlockType.WATER:return"water_block";default:return"stage_block"}},t}(),States;!function(t){var e=-400,n=-300,o=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.create=function(){var t=this;this.game.camera.setPosition(e,n),this.gameWorld=new GameWorld(this.game),this.gameWorld.loadLevel("tutorial_level_1"),this.initializeSpawnIndicator(),this.initializeButtons(),this.drawSpawnButton(),document.getElementById("innerCodeEditor").addEventListener("click",function(e){return t.handleCommandClick(e)}),this.gameWorld.selectionListener=function(e){t.selectedSpawnPoint=e,t.toggleSpawnIndicator(e),document.getElementById("gnomeCodeButtons").style.display=e?"block":"none",t.showCodeInEditor()}},o.prototype.initializeButtons=function(){var t=this,e=document.getElementById("gnomeCodeButtons");e.addEventListener("click",function(e){return t.handleCommandButtonClick(e)}),Sortable.create(e,{group:{name:"gnomeCode",pull:"clone",put:!1},sort:!1}),o.appendCommandToGui(e,CommandType.WALK),o.appendCommandToGui(e,CommandType.LEFT),o.appendCommandToGui(e,CommandType.RIGHT),o.appendCommandToGui(e,CommandType.ACT)},o.prototype.showCodeInEditor=function(){var t=this;if(document.getElementById("gnomeCodeEditor").style.display=this.selectedSpawnPoint?"block":"none",this.selectedSpawnPoint){this.updateCommandsLabel();var e=document.getElementById("innerCodeEditor");e.innerHTML="";var n=this.selectedSpawnPoint.gnomeCode.main;Sortable.create(e,{group:{name:"gnomeCode",pull:!1,put:!0},animation:150,onSort:function(o){var i="innerCodeEditor"===o.from.id?n.splice(o.oldIndex,1)[0]:new Command(parseInt(o.item.dataset.commandType));if(n.splice(o.newIndex,0,i),n.length>t.selectedSpawnPoint.model.sizeLimit)for(n.splice(t.selectedSpawnPoint.model.sizeLimit);e.children.length>t.selectedSpawnPoint.model.sizeLimit;)e.removeChild(e.children.item(t.selectedSpawnPoint.model.sizeLimit));t.updateCommandsLabel()}}),this.selectedSpawnPoint.gnomeCode.main.forEach(function(t){o.appendCommandToGui(e,t.type)})}},o.prototype.updateCommandsLabel=function(){var t=document.getElementById("codeEditorLabel");t.innerText=this.selectedSpawnPoint.gnomeCode.main.length+"/"+this.selectedSpawnPoint.model.sizeLimit+" commands used"},o.prototype.initializeSpawnIndicator=function(){this.spawnIndicator=this.game.add.graphics(0,0),this.spawnIndicator.beginFill(16776960,.3),this.spawnIndicator.moveTo(0,-1e3),this.spawnIndicator.lineTo(0,-100),this.spawnIndicator.lineTo(WorldConstants.BLOCK_WIDTH/2,-100+WorldConstants.BLOCK_HEIGHT/2),this.spawnIndicator.lineTo(WorldConstants.BLOCK_WIDTH,-100),this.spawnIndicator.lineTo(WorldConstants.BLOCK_WIDTH,-1e3),this.spawnIndicator.endFill(),this.spawnIndicator.alpha=0},o.prototype.toggleSpawnIndicator=function(t){if(t){var e=WorldConstants.COORDINATE_TRANSFORMER.map_to_screen(t.location);if(this.spawnIndicator.x===e.x&&this.spawnIndicator.y===e.y)return;this.spawnIndicator.x=e.x,this.spawnIndicator.y=e.y}this.spawnIndicator.alpha=t?0:1,this.game.add.tween(this.spawnIndicator).to({alpha:t?1:0},300,null,!0)},o.prototype.drawSpawnButton=function(){var t=this;this.drawButton(94,10,"play_button",function(){return t.gameWorld.spawnGnomes()})},o.prototype.drawButton=function(t,e,n,o){var i=this.game.add.sprite(t,e,n);return i.inputEnabled=!0,i.fixedToCamera=!0,i.events.onInputDown.add(o,this),i.input.useHandCursor=!0,i},o.prototype.handleCommandButtonClick=function(t){var e=t.target;if(e.classList.contains("commandButton")&&!(this.selectedSpawnPoint.gnomeCode.main.length>=this.selectedSpawnPoint.model.sizeLimit)){var n=parseInt(e.dataset.commandType);this.selectedSpawnPoint.gnomeCode.main.push(new Command(n)),o.appendCommandToGui(document.getElementById("innerCodeEditor"),n),this.updateCommandsLabel()}},o.prototype.handleCommandClick=function(t){var e=t.target;if(e.classList.contains("commandButton")){var n=document.getElementById("innerCodeEditor"),o=Array.prototype.indexOf.call(n.children,e);this.selectedSpawnPoint.gnomeCode.main.splice(o,1),n.removeChild(e),this.updateCommandsLabel()}},o.appendCommandToGui=function(t,e){var n=document.createElement("DIV");n.classList.add("commandButton"),n.classList.add(CommandType.imageClass(e)),n.dataset.commandType=e.toString(),t.appendChild(n)},o}(Phaser.State);t.PlayState=o}(States||(States={}));var States;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.preload=function(){var t=this.game.width/2,e=this.game.height/2,n=this.game.add.sprite(t,e,"logo");n.anchor.set(.5);var o=this.game.add.sprite(t,e+100,"progressBar");o.anchor.set(.5),this.load.setPreloadSprite(o),this.load.image("stage_block","assets/images/stage_block.png"),this.load.image("water_block","assets/images/water_block.png"),this.load.image("gnome_regular_front","assets/images/gnome_regular_front.png"),this.load.image("gnome_regular_back","assets/images/gnome_regular_back.png"),this.load.image("gnome_water_front","assets/images/gnome_water_front.png"),this.load.image("gnome_water_back","assets/images/gnome_water_back.png"),this.load.image("gnome_drowning","assets/images/gnome_drowning.png"),this.load.image("control_action","assets/images/control_action.png"),this.load.image("control_left","assets/images/control_left.png"),this.load.image("control_right","assets/images/control_right.png"),this.load.image("control_forward","assets/images/control_forward.png"),this.load.image("play_button","assets/images/play_button.png"),this.load.image("tree-1","assets/images/element_tree-1.png"),this.load.image("tree-2","assets/images/element_tree-2.png"),this.load.image("tree-3","assets/images/element_tree-3.png"),this.load.image("tree-4","assets/images/element_tree-4.png"),this.load.image("tree-5","assets/images/element_tree-5.png"),this.load.image("tree-6","assets/images/element_tree-6.png"),this.load.image("house_ne","assets/images/house_back_right.png"),this.load.image("house_nw","assets/images/house_back_left.png"),this.load.image("house_se","assets/images/house_front_right.png"),this.load.image("house_sw","assets/images/house_front_left.png"),this.load.image("waterdrop_empty","assets/images/waterdrop_empty.png"),this.load.image("waterdrop_filled","assets/images/waterdrop_filled.png"),this.load.audio("falling_gnome_scream","assets/sound/wilhelm_scream.ogg"),this.load.json("tutorial_level_1","assets/levels/tutorial_level_1.json"),this.load.json("tutorial_level_2","assets/levels/tutorial_level_2.json"),this.load.json("menu_level","assets/levels/menu_level.json")},e.prototype.create=function(){var t=this;this.game.time.events.add(0,function(){t.game.state.start("menu")},this)},e}(Phaser.State);t.PreloadState=e}(States||(States={}));var States;!function(t){var e={font:"32px Arial",fill:"#ff0044",align:"center"},n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.create=function(){this.game.camera.setPosition(-400,-300);var t=new GameWorld(this.game);t.loadLevel("menu_level"),this.createMenuButton("Continue",0,0,this.continueGame),this.createMenuButton("Start Game",0,40,this.startGame),this.createMenuButton("Options",0,80,this.options)},n.prototype.createMenuButton=function(t,n,o,i){var a=this.game.add.text(n,o,t,e);return a.inputEnabled=!0,a.events.onInputUp.add(i,this),a},n.prototype.startGame=function(){this.game.state.start("play")},n.prototype.continueGame=function(){console.log("continue")},n.prototype.options=function(){console.log("options")},n}(Phaser.State);t.MenuState=n}(States||(States={}));var States;!function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return __extends(n,e),n.prototype.init=function(){this.scale.scaleMode=Phaser.ScaleManager.RESIZE,this.game.camera.bounds=null},n.prototype.preload=function(){this.game.load.image("progressBar","assets/images/progressbar.png"),this.game.load.image("logo","assets/images/logo.png"),this.game.state.add("preload",t.PreloadState),this.game.state.add("menu",t.MenuState),this.game.state.add("play",t.PlayState)},n.prototype.create=function(){this.game.state.start("preload")},n}(Phaser.State);t.BootState=e}(States||(States={}));var Game=function(t){function e(){return t.call(this,"100","100",Phaser.AUTO,"content",null)||this}return __extends(e,t),e.prototype.start=function(){this.state.add("boot",States.BootState,!0)},e}(Phaser.Game);window.codeGarden=new Game;